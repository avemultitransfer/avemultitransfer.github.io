import{u as ke,a as _e,c as Q,r as $,o as i,b as k,w as y,d as a,t as s,e as c,f as S,g as f,h as o,i as M,F as D,j as Pe,k as Qe,l as v,m as ze,n as We,p as A,q as je,T as b,B as J,s as ue,v as K,x as re,D as qe,E as Ge,y as Je,z as Ke,A as Xe}from"./index.8521acfd.js";import{_ as de,T as be,f as $e,c as Ye,s as he,g as ge}from"./TokenIcon.678868cd.js";import{_ as R,d as Ze}from"./dayjs.min.a313f4eb.js";const et={class:"transfer-confirm-popup"},tt={class:"title"},nt={class:"transfer-detail"},at={class:"item"},st={class:"title-left"},lt={class:"content-left"},ot={key:0,class:"item"},it={class:"title-left"},ut={class:"content-left"},rt={key:1,class:"item"},dt={class:"title-left"},ct={class:"content-left"},mt={class:"item"},vt={class:"title-left"},ft={class:"content-left"},pt={class:"item"},yt={class:"title-left"},ht={class:"content-left"},gt={class:"item"},kt={class:"title-left"},_t={class:"content-left"},bt={class:"item"},$t={class:"title-left"},wt={class:"content-left"},St={class:"item"},Ct={class:"title-left"},Tt={class:"content-left"},At={key:0,style:{color:"#f6465d","margin-left":"4px"}};const Rt={class:"btn"},Lt={__name:"TransferConfirm",props:{visable:{type:Boolean,default:!1},detail:{type:Object,default:{receiptTotalAmount:0,sentListQty:0,sentRate:0,gas:0,serviceFee:0,token:{symbol:"",address:"",amount:0,icon:""},balance:0,isCustomRule:!1,sentRuleType:0,sentAmount:0,realSentTotalAmount:0}}},emits:["update:visable","confirm"],setup(r,{emit:E}){const e=r,d=ke(),{t:w}=_e(),L=Q(()=>{if(e.detail){if(e.detail.isCustomRule)return w("customRule");if(e.detail.sentRuleType==0)return`${e.detail.sentAmount} ${e.detail.token.symbol}/${w("address")}`;if(e.detail.sentRuleType==1)return w("dividedEqually",{amount:e.detail.sentAmount,symbol:e.detail.token.symbol})}return""});function x(){E("update:visable",!1)}return(h,C)=>{const z=$("van-notice-bar"),W=$("van-button"),N=$("van-popup");return i(),k(N,{show:r.visable,"close-on-click-overlay":!1,round:"",position:"bottom",closeable:"",onClose:x},{default:y(()=>[a("div",et,[a("div",tt,s(h.$t("multiTransferConfirm")),1),a("div",nt,[a("div",at,[a("div",st,s(h.$t("operationToken")),1),a("div",lt,[c(be,{class:"token-icon",tokenIcon:r.detail.token.icon},null,8,["tokenIcon"]),S(" "+s(r.detail.token.symbol),1)])]),r.detail.sentRuleType==0?(i(),f("div",ot,[a("div",it,s(h.$t("amountEach")),1),a("div",ut,s(o(L)),1)])):(i(),f("div",rt,[a("div",dt,s(h.$t("totalQuantity")),1),a("div",ct,s(o(L)),1)])),a("div",mt,[a("div",vt,s(h.$t("countOfAddress")),1),a("div",ft,s(r.detail.sentListQty),1)]),a("div",pt,[a("div",yt,s(h.$t("totalAmountOfTransfer")),1),a("div",ht,s(`${r.detail.realSentTotalAmount} ${r.detail.token.symbol}`),1)]),a("div",gt,[a("div",kt,s(h.$t("serviceFee")),1),a("div",_t,s(`${r.detail.serviceFee} ${o(d).chainCoinSymbol}`),1)]),a("div",bt,[a("div",$t,s(h.$t("estimateGas")),1),a("div",wt,s(`${r.detail.gas} ${o(d).chainCoinSymbol}`),1)]),a("div",St,[a("div",Ct,s(h.$t("totalAmountOfReceived")),1),a("div",Tt,[S(s(`${r.detail.receiptTotalAmount} ${r.detail.token.symbol}`),1),r.detail.sentRate!=0?(i(),f("span",At,"( "+s(h.$t("expended",{percentage:r.detail.sentRate*100}))+")",1)):M("",!0)])])]),M("",!0),a("div",Rt,[c(W,{class:"confirm-btn",type:"primary",onClick:C[0]||(C[0]=ce=>E("confirm"))},{default:y(()=>[S(s(h.$t("confirmSend")),1)]),_:1})])])]),_:1},8,["show"])}}},Ft=de(Lt,[["__scopeId","data-v-c8276162"]]);const It={class:"title"},Bt={class:"body"},Et={class:"status-text"},xt={key:0},Nt={key:1},Vt={key:2},Dt={key:3},Mt={class:"status-icon"},Ot={class:"tx"},Ht={key:1,class:"trade-hash"},Ut={__name:"ChainTrade",props:{tradeVisable:{type:Boolean,default:!1},status:{type:Number,default:0},tradeHash:{type:String,default:""},message:{type:String,default:""}},emits:["update:tradeVisable"],setup(r,{emit:E}){return(e,d)=>{const w=$("van-loading"),L=$("van-icon"),x=$("van-popup");return i(),k(x,{class:"dialog",show:r.tradeVisable,round:"","close-on-click-overlay":!1,onClose:d[1]||(d[1]=h=>E("update:tradeVisable"))},{default:y(()=>[a("div",It,s(e.$t("transactionDetails")),1),a("div",Bt,[a("div",Et,[r.status!=0?(i(),f(D,{key:0},[r.status==1?(i(),f("div",xt,s(e.$t("sendingTransactionToBlockchain")),1)):r.status==2?(i(),f("div",Nt,s(e.$t("waitingForServiceSyncronizing")),1)):r.status==-1?(i(),f("div",Vt,s(r.message?r.message:e.$t("sendTransactionToBlockchainFailed")),1)):r.status==-2?(i(),f("div",Dt,s(e.$t("servicesyncronizingTimeout")),1)):M("",!0)],64)):M("",!0)]),a("div",Mt,[r.status==1||r.status==2?(i(),k(w,{key:0,type:"spinner",size:"48px"})):r.status==0?(i(),k(L,{key:1,color:"#07c160",size:"40px",name:"checked"})):r.status==-1||r.status==-2?(i(),k(L,{key:2,color:"#FA5151",size:"40px",name:"clear"})):M("",!0)]),r.tradeHash?(i(),f("div",{key:0,class:"trade-hash",onClick:d[0]||(d[0]=h=>o(Ye)(r.tradeHash))},[S(s(e.$t("txHash"))+": ",1),a("span",Ot,s(o($e)(r.tradeHash)),1),c(R,{name:"copy"})])):(i(),f("div",Ht,s(e.$t("txHash"))+": N/A",1))])]),_:1},8,["show"])}}},Pt=de(Ut,[["__scopeId","data-v-44451756"]]),Qt=[{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"_operator",type:"address"},{indexed:!1,internalType:"uint256",name:"_arrayLimit",type:"uint256"}],name:"ArrayLimitChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"_operator",type:"address"},{indexed:!1,internalType:"uint256",name:"_baseFee",type:"uint256"}],name:"BaseFeeChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"_token",type:"address"},{indexed:!1,internalType:"address",name:"_sourceAccount",type:"address"},{indexed:!1,internalType:"uint256",name:"_targetAccountCount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_totalAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_totalRealAmount",type:"uint256"}],name:"Sent",type:"event"},{stateMutability:"payable",type:"fallback"},{inputs:[],name:"arrayLimit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"baseFee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_arrayLimit",type:"uint256"},{internalType:"uint256",name:"_baseFee",type:"uint256"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_token",type:"address"},{internalType:"address[]",name:"_accounts",type:"address[]"},{internalType:"uint256[]",name:"_amounts",type:"uint256[]"}],name:"multiSend",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_arrayLimit",type:"uint256"}],name:"setArrayLimit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_baseFee",type:"uint256"}],name:"setBaseFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address payable",name:"recipient",type:"address"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}];const zt={class:"body"},Wt={class:"tools-bar"},jt={class:"address-text"},qt={style:{"margin-left":"4px"}},Gt={class:"tools"},Jt={class:"token-title"},Kt={class:"token-box"},Xt={class:"token-amount"},Yt={class:"form-item address-ipt"},Zt={class:"title"},en={class:"index"},tn={class:"content"},nn=["onClick"],an={class:"form-item create"},sn={class:"field"},ln={class:"content"},on={class:"content"},un={class:"transfer-icon"},rn={class:"title"},dn={class:"transfer-icon"},cn={class:"title"},mn={class:"text"},vn={class:"btn"},fn={class:"content"},pn={class:"title"},yn={class:"content"},hn={__name:"Index",setup(r){const E=Pe(),e=ke(),{t:d}=_e(),w=Qe("global"),L=v(!1),x=v(!1),h=v(!1),C=v(!1),z=v(!1),W=v(!1),N=v(""),ce=Q(()=>[{name:d("languages.zh-cn"),value:"zh-cn",color:e.language==="zh-cn"?"#9505F9":"#323233"},{name:d("languages.en"),value:"en",color:e.language==="en"?"#9505F9":"#323233"}]);function we(t){e.setLanguage(t.value)}const F=v(!1),O=v(0),H=v(""),j=v("");async function me(){await e.connectWallet(),await ee()}function ve(t){const n=w.cfg.allowChainList.find(p=>p.chainId==t);let u;return n?u=n.chain:u=null,u}function fe(){return w.cfg.allowChainList.map(n=>n.chainId).includes(e.chainId)?!0:(W.value=!0,!1)}async function Se(){F.value=!1,H.value="",O.value=1,F.value=!0;try{let t=await A.wallet.approveMaxAmount(e.token.address,e.multiSenderContractAddress);console.log(t),H.value=t.hash,await t.wait(),U.value=!1,O.value=0}catch(t){console.log(t),O.value=-1,await he(2e3)}finally{F.value=!1}}async function ee(){if(e.token==null)return;if(e.token.address==A.wallet.MAIN_COIN_ADDRESS){U.value=!1;return}const t=await A.wallet.isAllowanceEnough(e.multiSenderContractAddress,e.token.address,e.walletAddress);console.log("checkAllowance: "+t),t?U.value=!1:U.value=!0}function Ce(){E.push("/selectToken")}const te=v(!1),pe=v(null);function Te(){te.value=!0,je(()=>{pe.value.focus()})}const _=v(null);function Ae(t){console.log("addressTextInput"),console.log(t);const n=/^0x[0-9a-fA-F]{40}(,\d*\.?\d+)?$/;let u=!1,p=t.replace(/\s+/ig," ").trim();if(p){let m=p.split(" ");if(m.length>500){b.fail(d("supportMax"));return}p.indexOf(",")>-1&&(u=!0);for(let g=0;g<m.length;g++){if(!n.test(m[g])){b.fail(d("pleaseEnterRightFormat"));return}u==!0&&m[g].indexOf(",")==-1&&(m[g]=m[g]+",0")}e.addressList=m,e.addressText=m.join(" ")}else e.addressList=[],e.addressText="";e.isCustomRule=u}const X=v(!1),ne=v(0),Y=v("");function Re(t,n){const[u,p]=t.split(",");ne.value=n,X.value=!0,Y.value=p}function Le(){const[t,n]=e.addressList[ne.value].split(",");e.addressList[ne.value]=`${t},${Y.value}`,e.addressText=e.addressList.join(" "),X.value=!1}const ae=Q(()=>e.isCustomRule?d("customRule"):e.currentSentRule.value==0?d("eachAddressEqual"):e.currentSentRule.value==1?d("dividedEquallyByTotal"):""),Fe=Q(()=>[{name:d("eachAddressEqual"),value:0,color:e.currentSentRule.value===0?"#3F80F7":"#323233"},{name:d("dividedEquallyByTotal"),value:1,color:e.currentSentRule.value===1?"#3F80F7":"#323233"}]);function se(t){return console.log(t),t&&t.replace("-","").replace(/^(.*\..{6}).*$/,"$1")}const le=v(!1);function Ie(){e.isCustomRule||(le.value=!0)}function Be(t){e.currentSentRule.value=t.value,e.currentSentRule.name=t.name}function Ee(){e.addressList=[],e.addressText="",e.isCustomRule=!1}const U=v(!1),oe=v(!1),B=Q(()=>{let t=J(0);for(let n of Z.value)t=t.plus(n.amount);return t.toNumber()});async function xe(){oe.value=!0;try{if(!e.token){b.fail(d("pleaseSelectToken"));return}if(e.addressList.length==0){b.fail(d("pleaseEnterReceivingAddress"));return}if(!e.isCustomRule){if(e.currentSentRule.value==0){if(!e.sentSingleAmountString){b.fail(d("pleaseEnterSingleQuantity"));return}}else if(e.currentSentRule.value==1&&!e.sentTotalAmountString){b.fail(d("pleaseEnterTotalQuantity"));return}}if(await e.connectWallet(),!fe())return;let n=w.cfg.allowChainList.find(u=>u.chain==e.token.chain);if(!n){b.fail(d("tokenChainNotSupport"));return}if(e.chainId!=n.chainId){b.fail(d("switchTokenChain"));return}if(J(B.value).gt(J(N.value))){b.fail(d("balanceSlow"));return}if(await ee(),U.value){b.fail(d("approveFirst"));return}await Ne(),h.value=!0}catch(t){console.dir(t)}finally{oe.value=!1}}async function Ne(){const t=A.wallet.getEthersProvider(),n=A.wallet.contractByProvider(t,e.multiSenderContractAddress,Qt),u=Z.value.map(V=>V.address),p=Z.value.map(V=>ue(V.amount.toString(),e.token.decimals).toString()),m=await n.baseFee();console.log("baseFee"),console.log(m),console.log(m.toString()),console.log(K(m));let g=m;e.token.address==A.wallet.MAIN_COIN_ADDRESS&&(g=m.add(ue(B.value.toString(),e.token.decimals)));const P=await t.getGasPrice();let T;try{T=(await n.estimateGas.multiSend(e.token.address,u,p,{value:g.toString()})).mul(2)}catch(V){throw V.data.code==-32e3&&b.fail(d("balanceSlow")),console.dir(V),V}console.log("gasLimit"),console.dir(T),console.log(K(T.mul(P))),console.log(e.token.address),console.log(u),console.log(p),console.dir(n);const I=await n.callStatic.multiSend(e.token.address,u,p,{value:g.toString()});console.dir(I),console.log(re(I,e.token.decimals));const l=re(I,e.token.decimals);let q=0;l<B&&(q=Number(J(B.value).minus(l).div(B.value).toFixed(4)));let G=0;e.isCustomRule?G=0:e.currentSentRule.value==0?G=e.sentSingleAmountString?Number(e.sentSingleAmountString):0:e.currentSentRule.value==1&&(G=e.sentTotalAmountString?Number(e.sentTotalAmountString):0),_.value={msContract:n,receiptTotalAmount:l,sentAddressList:u,sentAmountList:p,sentListQty:Z.value.length,baseFee:m,transferValue:g,gasLimit:T,sentRate:q,gas:K(T.mul(P)),serviceFee:K(m),token:{symbol:e.token.symbol,address:e.token.address,amount:e.token.amount,icon:e.token.icon,decimals:e.token.decimals,chain:e.token.chain},isCustomRule:e.isCustomRule,sentRuleType:e.currentSentRule.value,sentAmount:G,realSentTotalAmount:B.value,walletAddress:e.walletAddress}}async function Ve(){console.log("multiTransferConfirm"),O.value=1,F.value=!0;try{const t=await _.value.msContract.multiSend(_.value.token.address,_.value.sentAddressList,_.value.sentAmountList,{value:_.value.transferValue.toString(),gasLimit:_.value.gasLimit.toString()});console.dir(t),H.value=t.hash;const n=await t.wait();console.dir(n);const u=n.transactionHash;if(H.value=u,console.log("txHash: "+u),n.status!=1){await A.multiSend.sendMultiSendFailTx(_.value.token.chain,u),F.value=!1,j.value="",z.value=!1,C.value=!0;return}else{F.value=!1,j.value="",z.value=!0,C.value=!0;let p={receiverCount:0,sendAmount:ue(B.value.toString(),e.token.decimals).toString(),sendTime:Ze().unix(),sender:_.value.walletAddress,status:-1,tokenAddress:_.value.token.address,tokenDecimal:_.value.token.decimals,tokenSymbol:_.value.token.symbol,txHash:u};console.dir(p),e.transferringList.push(p)}}catch(t){console.dir(t),t.code=="ACTION_REJECTED"&&(j.value=d("actionRejected"),O.value=-1,await he(1e3)),F.value=!1,j.value="",z.value=!1,C.value=!0;return}finally{h.value=!1}}const Z=Q(()=>{if(e.addressList.length>0){if(e.isCustomRule)return e.addressList.map(t=>{const[n,u]=t.split(",");return{address:n,amount:Number(u)}});if(e.currentSentRule.value==0){const t=e.sentSingleAmountString?Number(e.sentSingleAmountString):0;return e.addressList.map(n=>({address:n,amount:t}))}else if(e.currentSentRule.value==1){const t=e.sentTotalAmountString?Number(e.sentTotalAmountString):0,n=J(t).div(e.addressList.length).dp(2).toNumber();return e.addressList.map(u=>({address:u,amount:n}))}}return[]}),ye=w.cfg.allowChainList.map(t=>t.chain.toUpperCase()),ie=v(!1);function De(){qe.confirm({title:d("tips"),message:d("disonnectWallet"),confirmButtonText:d("confirm"),cancelButtonText:d("cancel")}).then(()=>{e.disconnectWallet()}).catch(()=>{})}function Me(t){let n=w.cfg.allowChainList.find(u=>u.chainId==e.chainId);n?window.open(n.txNetwork+t,"_blank"):b(d("unsupportedNetwork"))}function Oe(t){console.log("onPasteCapture"),t.target.value=t.target.value+t.clipboardData.getData("text"),t.target.blur()}function He(t){console.log("onBlurCapture"),console.log(t.target.value),Ae(t.target.value),te.value=!1}async function Ue(){if(!e.token)return;const t=b.loading({message:"Loading...",forbidClick:!0,duration:0});try{const n=A.wallet.getEthersProvider();if(e.token.address==A.wallet.MAIN_COIN_ADDRESS){const u=await n.getBalance(e.walletAddress);N.value=K(u)}else{const u=A.wallet.contractByProvider(n,e.token.address,Ge),p=await u.decimals(),m=await u.balanceOf(e.walletAddress);N.value=re(m,p)}}catch(n){console.log(n),e.token=null}finally{t.close()}}return ze(()=>{console.log("index onMounted"),e.chainId>0&&fe()&&e.token&&(ee(),Ue())}),(t,n)=>{const u=$("van-image"),p=$("van-cell"),m=$("van-cell-group"),g=$("van-field"),P=$("van-action-sheet"),T=$("van-button"),I=$("van-dialog");return i(),f(D,null,[a("div",zt,[a("div",Wt,[o(e).isConnectWallet?(i(),f("div",{key:0,class:"address",onClick:De},[ve(o(e).chainId)?(i(),k(u,{key:0,class:"chain-icon",round:"",src:o(ge)(ve(o(e).chainId))},null,8,["src"])):(i(),k(R,{key:1,class:"chain-icon",name:"wallet"})),a("div",jt,s(o($e)(o(e).walletAddress)),1)])):(i(),f("div",{key:1,class:"address",onClick:me},[c(R,{name:"wallet"}),a("div",qt,s(t.$t("pleaseConnectWallet")),1)])),a("div",Gt,[c(R,{name:"language",onClick:n[0]||(n[0]=l=>x.value=!0)}),c(R,{name:"help",onClick:n[1]||(n[1]=l=>L.value=!0)})])]),c(m,{inset:"",class:"form-item"},{default:y(()=>[a("div",Jt,s(t.$t("token")),1),c(p,{"is-link":"",onClick:Ce,class:"token-cell"},Je({value:y(()=>[a("div",Xt,s(N.value?N.value:"--"),1)]),_:2},[o(e).token?{name:"title",fn:y(()=>[a("div",Kt,[c(be,{class:"token-icon",tokenIcon:o(e).token.icon,chainIcon:o(ge)(o(e).token.chain)},null,8,["tokenIcon","chainIcon"]),S(" "+s(o(e).token.symbol),1)])]),key:"0"}:{name:"title",fn:y(()=>[a("div",{class:"token-box",style:{color:"#999999"}},s(t.$t("pleaseSelectToken")),1)]),key:"1"}]),1024)]),_:1}),a("div",Yt,[a("div",Zt,[a("div",null,[S(s(t.$t("receivingAddress"))+" ",1),c(R,{name:"info",onClick:n[2]||(n[2]=l=>ie.value=!0)})]),a("div",{onClick:Ee},[c(R,{name:"clear"}),S(" "+s(t.$t("clear")),1)])]),te.value?(i(),k(g,{key:0,class:"ipt","model-value":o(e).addressText,onPasteCapture:Oe,type:"textarea",onBlurCapture:He,ref_key:"ipt",ref:pe},null,8,["model-value"])):(i(),f("ul",{key:1,class:"table",onClick:Te},[(i(!0),f(D,null,We(o(e).addressList,(l,q)=>(i(),f("li",null,[a("div",en,s(q+1),1),a("div",tn,s(l),1),o(e).isCustomRule?(i(),f("div",{key:0,class:"edit",onClick:Ke(G=>Re(l,q),["stop"])},[c(R,{name:"edit"})],8,nn)):M("",!0)]))),256))]))]),o(e).addressList.length>0?(i(),f(D,{key:0},[c(m,{inset:"",class:"form-item"},{default:y(()=>[c(g,{modelValue:o(ae),"onUpdate:modelValue":n[3]||(n[3]=l=>Xe(ae)?ae.value=l:null),disabled:o(e).isCustomRule,"is-link":"",readonly:"",name:"picker",label:t.$t("distributionRules"),onClick:Ie,"input-align":"right"},null,8,["modelValue","disabled","label"]),c(P,{show:le.value,"onUpdate:show":n[4]||(n[4]=l=>le.value=l),title:t.$t("distributionRules"),actions:o(Fe),"close-on-click-action":"",onSelect:Be},null,8,["show","title","actions"])]),_:1}),c(m,{inset:"",class:"form-item"},{default:y(()=>[o(e).isCustomRule?(i(),k(g,{key:0,label:t.$t("totalQuantity"),"input-align":"right",readonly:"","model-value":o(B)},null,8,["label","model-value"])):o(e).currentSentRule.value==0?(i(),k(g,{key:1,label:t.$t("amountEach"),"input-align":"right",formatter:se,placeholder:t.$t("pleaseEnterSingleQuantity"),type:"number",maxlength:"10",modelValue:o(e).sentSingleAmountString,"onUpdate:modelValue":n[5]||(n[5]=l=>o(e).sentSingleAmountString=l)},null,8,["label","placeholder","modelValue"])):(i(),k(g,{key:2,label:t.$t("totalQuantity"),"input-align":"right",formatter:se,placeholder:t.$t("pleaseEnterTotalQuantity"),type:"number",maxlength:"10",modelValue:o(e).sentTotalAmountString,"onUpdate:modelValue":n[6]||(n[6]=l=>o(e).sentTotalAmountString=l)},null,8,["label","placeholder","modelValue"]))]),_:1})],64)):M("",!0),a("div",an,[o(e).isConnectWallet?(i(),f(D,{key:0},[U.value?(i(),k(T,{key:0,class:"create-btn",type:"danger",onClick:Se},{default:y(()=>[S(s(t.$t("approve")),1)]),_:1})):(i(),k(T,{key:1,class:"create-btn",type:"primary",onClick:xe,loading:oe.value},{default:y(()=>[S(s(t.$t("oneClickTransfer")),1)]),_:1},8,["loading"]))],64)):(i(),k(T,{key:1,class:"create-btn",type:"primary",onClick:me},{default:y(()=>[S(s(t.$t("connectWallet")),1)]),_:1}))]),a("div",{class:"form-item history",onClick:n[7]||(n[7]=l=>o(E).push("/history"))},s(t.$t("transferHistory")),1)]),c(P,{show:x.value,"onUpdate:show":n[8]||(n[8]=l=>x.value=l),title:t.$t("switchLang"),actions:o(ce),closeable:!1,"cancel-text":t.$t("cancel"),"close-on-click-action":"",onSelect:we},null,8,["show","title","actions","cancel-text"]),c(I,{class:"editAmountDialog",show:X.value,"onUpdate:show":n[10]||(n[10]=l=>X.value=l),title:t.$t("editQuantity"),"show-cancel-button":"",onConfirm:Le},{default:y(()=>[a("div",sn,[c(g,{modelValue:Y.value,"onUpdate:modelValue":n[9]||(n[9]=l=>Y.value=l),type:"number",formatter:se,clearable:""},null,8,["modelValue"])])]),_:1},8,["show","title"]),c(Ft,{visable:h.value,"onUpdate:visable":n[11]||(n[11]=l=>h.value=l),detail:_.value,onConfirm:Ve},null,8,["visable","detail"]),c(I,{class:"help-dialog",show:L.value,"onUpdate:show":n[12]||(n[12]=l=>L.value=l),title:t.$t("ruleDescription"),"confirm-button-text":t.$t("understand"),"close-on-click-overlay":""},{default:y(()=>[a("div",ln,[a("div",null,s(t.$t("rulesDescription1")),1),a("div",null,s(t.$t("rulesDescription2")),1),a("div",null,s(t.$t("rulesDescription3")),1),a("div",null,s(t.$t("rulesDescription4",{chains:o(ye).join("/")})),1)])]),_:1},8,["show","title","confirm-button-text"]),c(I,{class:"create-transfer-dialog",show:C.value,"onUpdate:show":n[15]||(n[15]=l=>C.value=l),onClose:n[16]||(n[16]=l=>C.value=!1),"close-on-click-overlay":""},{footer:y(()=>[a("div",vn,[c(T,{class:"copy-btn",type:"primary",onClick:n[14]||(n[14]=l=>C.value=!1)},{default:y(()=>[S(s(t.$t("understand")),1)]),_:1})])]),default:y(()=>[a("div",on,[z.value?(i(),f(D,{key:0},[a("div",un,[c(R,{name:"createSuccess"})]),a("div",rn,s(t.$t("transferResultSuccess1")),1),a("div",{class:"text",onClick:n[13]||(n[13]=l=>Me(H.value))},s(t.$t("transferResultSuccess2")),1)],64)):(i(),f(D,{key:1},[a("div",dn,[c(R,{name:"infoFail"})]),a("div",cn,s(t.$t("transferResultFail1")),1),a("div",mn,s(t.$t("transferResultFail2")),1)],64))])]),_:1},8,["show"]),c(I,{class:"chain-err-dialog",confirmButtonText:t.$t("understand"),confirmButtonColor:"#3F80F7",show:W.value,"onUpdate:show":n[17]||(n[17]=l=>W.value=l)},{default:y(()=>[a("div",fn,[a("div",null,s(t.$t("notSupportedChain")),1),a("div",null,s(t.$t("pleaseSwitchTo",{chains:o(ye).join("\u3001")})),1)])]),_:1},8,["confirmButtonText","show"]),c(I,{class:"copy-address-dialog",confirmButtonText:t.$t("understand"),confirmButtonColor:"#3F80F7",show:ie.value,"onUpdate:show":n[18]||(n[18]=l=>ie.value=l)},{default:y(()=>[a("div",pn,s(t.$t("copyAddress")),1),a("div",yn,[a("div",null,s(t.$t("copyAddressTips")),1)])]),_:1},8,["confirmButtonText","show"]),c(Pt,{tradeVisable:F.value,"onUpdate:tradeVisable":n[19]||(n[19]=l=>F.value=l),status:O.value,tradeHash:H.value,message:j.value},null,8,["tradeVisable","status","tradeHash","message"])],64)}}},bn=de(hn,[["__scopeId","data-v-0ecb0872"]]);export{bn as default};
