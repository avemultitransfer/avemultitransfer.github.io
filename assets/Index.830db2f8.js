import{u as c0,a as u0,c as Q,r as w,o,b as $,w as v,d as n,t as s,e as b,f as L,g as u,h as l,i as D,F as E,j as p,k as w0,n as z0,N as Q0,l as j0,m as q0,p as J0,q as I,s as K0,T as C,B as z,v as b0,x as K,y as f0,D as X0,E as Y0,z as Z0,A as e1,C as t1}from"./index.5c622797.js";import{_ as e0,T as T0,f as r0,c as a1,s as _0,g as k0}from"./TokenIcon.2145ae6c.js";import{_,d as n1}from"./dayjs.min.7d9197ae.js";const s1={class:"transfer-confirm-popup"},l1={class:"title"},o1={class:"transfer-detail"},d1={class:"item"},i1={class:"title-left"},b1={class:"content-left"},f1={key:0,class:"item"},c1={class:"title-left"},u1={class:"content-left"},r1={key:1,class:"item"},m1={class:"title-left"},p1={class:"content-left"},v1={class:"item"},y1={class:"title-left"},h1={class:"content-left"},g1={class:"item"},_1={class:"title-left"},k1={class:"content-left"},$1={class:"item"},w1={class:"title-left"},T1={class:"content-left"},C1={class:"item"},S1={class:"title-left"},A1={class:"content-left"},R1={class:"item"},L1={class:"title-left"},B1={class:"content-left"},I1={key:0,style:{color:"#f6465d","margin-left":"4px"}};const F1={class:"btn"},x1={__name:"TransferConfirm",props:{visable:{type:Boolean,default:!1},detail:{type:Object,default:{receiptTotalAmount:0,sentListQty:0,sentRate:0,gas:0,serviceFee:0,token:{symbol:"",address:"",amount:0,icon:""},balance:0,isCustomRule:!1,sentRuleType:0,sentAmount:0,realSentTotalAmount:0}}},emits:["update:visable","confirm"],setup(f,{emit:F}){const e=f,i=c0(),{t:g}=u0(),A=Q(()=>{if(e.detail){if(e.detail.isCustomRule)return g("customRule");if(e.detail.sentRuleType==0)return`${e.detail.sentAmount} ${e.detail.token.symbol}/${g("address")}`;if(e.detail.sentRuleType==1)return g("dividedEqually",{amount:e.detail.sentAmount,symbol:e.detail.token.symbol})}return""});function R(){F("update:visable",!1)}return(r,S)=>{const k=w("van-notice-bar"),G=w("van-button"),W=w("van-popup");return o(),$(W,{show:f.visable,"close-on-click-overlay":!1,round:"",position:"bottom",closeable:"",onClose:R},{default:v(()=>[n("div",s1,[n("div",l1,s(r.$t("multiTransferConfirm")),1),n("div",o1,[n("div",d1,[n("div",i1,s(r.$t("operationToken")),1),n("div",b1,[b(T0,{class:"token-icon",tokenIcon:f.detail.token.icon},null,8,["tokenIcon"]),L(" "+s(f.detail.token.symbol),1)])]),f.detail.sentRuleType==0?(o(),u("div",f1,[n("div",c1,s(r.$t("amountEach")),1),n("div",u1,s(l(A)),1)])):(o(),u("div",r1,[n("div",m1,s(r.$t("totalQuantity")),1),n("div",p1,s(l(A)),1)])),n("div",v1,[n("div",y1,s(r.$t("countOfAddress")),1),n("div",h1,s(f.detail.sentListQty),1)]),n("div",g1,[n("div",_1,s(r.$t("totalAmountOfTransfer")),1),n("div",k1,s(`${f.detail.realSentTotalAmount} ${f.detail.token.symbol}`),1)]),n("div",$1,[n("div",w1,s(r.$t("serviceFee")),1),n("div",T1,s(`${f.detail.serviceFee} ${l(i).chainCoinSymbol}`),1)]),n("div",C1,[n("div",S1,s(r.$t("estimateGas")),1),n("div",A1,s(`${f.detail.gas} ${l(i).chainCoinSymbol}`),1)]),n("div",R1,[n("div",L1,s(r.$t("totalAmountOfReceived")),1),n("div",B1,[L(s(`${f.detail.receiptTotalAmount} ${f.detail.token.symbol}`),1),f.detail.sentRate!=0?(o(),u("span",I1,"( "+s(r.$t("expended",{percentage:f.detail.sentRate*100}))+")",1)):D("",!0)])])]),D("",!0),n("div",F1,[b(G,{class:"confirm-btn",type:"primary",onClick:S[0]||(S[0]=m0=>F("confirm"))},{default:v(()=>[L(s(r.$t("confirmSend")),1)]),_:1})])])]),_:1},8,["show"])}}},N1=e0(x1,[["__scopeId","data-v-c6c6ace0"]]);const E1={class:"title"},M1={class:"body"},V1={class:"status-text"},D1={key:0},W1={key:1},G1={key:2},O1={key:3},P1={class:"status-icon"},U1={class:"tx"},H1={key:1,class:"trade-hash"},z1={__name:"ChainTrade",props:{tradeVisable:{type:Boolean,default:!1},status:{type:Number,default:0},tradeHash:{type:String,default:""},message:{type:String,default:""}},emits:["update:tradeVisable"],setup(f,{emit:F}){return(e,i)=>{const g=w("van-loading"),A=w("van-icon"),R=w("van-popup");return o(),$(R,{class:"dialog",show:f.tradeVisable,round:"","close-on-click-overlay":!1,onClose:i[1]||(i[1]=r=>F("update:tradeVisable"))},{default:v(()=>[n("div",E1,s(e.$t("transactionDetails")),1),n("div",M1,[n("div",V1,[f.status!=0?(o(),u(E,{key:0},[f.status==1?(o(),u("div",D1,s(e.$t("sendingTransactionToBlockchain")),1)):f.status==2?(o(),u("div",W1,s(e.$t("waitingForServiceSyncronizing")),1)):f.status==-1?(o(),u("div",G1,s(f.message?f.message:e.$t("sendTransactionToBlockchainFailed")),1)):f.status==-2?(o(),u("div",O1,s(e.$t("servicesyncronizingTimeout")),1)):D("",!0)],64)):D("",!0)]),n("div",P1,[f.status==1||f.status==2?(o(),$(g,{key:0,type:"spinner",size:"48px"})):f.status==0?(o(),$(A,{key:1,color:"#07c160",size:"40px",name:"checked"})):f.status==-1||f.status==-2?(o(),$(A,{key:2,color:"#FA5151",size:"40px",name:"clear"})):D("",!0)]),f.tradeHash?(o(),u("div",{key:0,class:"trade-hash",onClick:i[0]||(i[0]=r=>l(a1)(f.tradeHash))},[L(s(e.$t("txHash"))+": ",1),n("span",U1,s(l(r0)(f.tradeHash)),1),b(_,{name:"copy"})])):(o(),u("div",H1,s(e.$t("txHash"))+": N/A",1))])]),_:1},8,["show"])}}},Q1=e0(z1,[["__scopeId","data-v-a3a59357"]]),j1="hh-sol-artifact-1",q1="MultiSender",J1="contracts/MultiSender.sol",K1=[{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"_operator",type:"address"},{indexed:!1,internalType:"uint256",name:"_arrayLimit",type:"uint256"}],name:"ArrayLimitChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"_operator",type:"address"},{indexed:!1,internalType:"uint256",name:"_baseFee",type:"uint256"}],name:"BaseFeeChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"version",type:"uint8"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"_token",type:"address"},{indexed:!1,internalType:"address",name:"_sourceAccount",type:"address"},{indexed:!1,internalType:"uint256",name:"_targetAccountCount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_totalAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_totalRealAmount",type:"uint256"}],name:"Sent",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"_operator",type:"address"},{indexed:!1,internalType:"address",name:"_addr",type:"address"}],name:"WhiteListAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"_operator",type:"address"},{indexed:!1,internalType:"address",name:"_addr",type:"address"}],name:"WhiteListRemoved",type:"event"},{stateMutability:"payable",type:"fallback"},{inputs:[{internalType:"address",name:"_addr",type:"address"}],name:"addFeeWhiteList",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"arrayLimit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"baseFee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"feeWhiteList",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_arrayLimit",type:"uint256"},{internalType:"uint256",name:"_baseFee",type:"uint256"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_addr",type:"address"}],name:"isInWhiteList",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_token",type:"address"},{internalType:"address[]",name:"_accounts",type:"address[]"},{internalType:"uint256[]",name:"_amounts",type:"uint256[]"}],name:"multiSend",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_addr",type:"address"}],name:"removeFeeWhiteList",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_arrayLimit",type:"uint256"}],name:"setArrayLimit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_baseFee",type:"uint256"}],name:"setBaseFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address payable",name:"recipient",type:"address"},{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],X1="0x608060405234801561001057600080fd5b50611a7f806100206000396000f3fe6080604052600436106100e15760003560e01c806396bfc2291161007f578063d9caed1211610059578063d9caed1214610237578063e4a3011614610257578063ee8a0a3014610277578063f2fde38b14610297576100e8565b806396bfc229146101de5780639ec68f0f1461020e578063b4ae641c14610221576100e8565b80636ef25c3a116100bb5780636ef25c3a1461014a5780636f0f863a14610173578063715018a6146101ab5780638da5cb5b146101c0576100e8565b806324d9fa99146100ea578063468606981461010a5780636e1b9c8e1461012a576100e8565b366100e857005b005b3480156100f657600080fd5b506100e86101053660046116fe565b6102b7565b34801561011657600080fd5b506100e861012536600461184e565b61039d565b34801561013657600080fd5b506100e86101453660046116fe565b6103e0565b34801561015657600080fd5b5061016060665481565b6040519081526020015b60405180910390f35b34801561017f57600080fd5b5061019361018e36600461184e565b6105c5565b6040516001600160a01b03909116815260200161016a565b3480156101b757600080fd5b506100e86105ef565b3480156101cc57600080fd5b506033546001600160a01b0316610193565b3480156101ea57600080fd5b506101fe6101f93660046116fe565b610603565b604051901515815260200161016a565b61016061021c36600461175a565b61067e565b34801561022d57600080fd5b5061016060655481565b34801561024357600080fd5b506100e861025236600461171a565b6106ba565b34801561026357600080fd5b506100e861027236600461187e565b61071c565b34801561028357600080fd5b506100e861029236600461184e565b6108aa565b3480156102a357600080fd5b506100e86102b23660046116fe565b6108ed565b6102bf610963565b6102c881610603565b156103115760405162461bcd60e51b8152602060048201526014602482015273185b1c9958591e481a5b881dda1a5d195b1a5cdd60621b60448201526064015b60405180910390fd5b606780546001810182556000919091527f9787eeb91fe3101235e4a76063c7023ecb40f923f97916639c598592fa30d6ae0180546001600160a01b0319166001600160a01b0383169081179091556040805133815260208101929092527fdf439a5354034a9ebf2a97af303a3fe7fc5fc6c4a59b5fa8f75fcf7f81fc564491015b60405180910390a150565b6103a5610963565b606681905560408051338152602081018390527fd156ca316d26c3ef349214cf79162a57b8271f66b5f38910a27a76a768f06d839101610392565b6103e8610963565b60005b60675481101561057957816001600160a01b03166067828154811061042057634e487b7160e01b600052603260045260246000fd5b6000918252602090912001546001600160a01b03161415610567576067805461044b906001906119a6565b8154811061046957634e487b7160e01b600052603260045260246000fd5b600091825260209091200154606780546001600160a01b0390921691839081106104a357634e487b7160e01b600052603260045260246000fd5b9060005260206000200160006101000a8154816001600160a01b0302191690836001600160a01b0316021790555060678054806104f057634e487b7160e01b600052603160045260246000fd5b600082815260209020810160001990810180546001600160a01b03191690550190556040517f770bbbe6c5c3cb4131aa0eafa060578bf4f20f6de6d6fb8d7a1f854ebabd54c79061055990339085906001600160a01b0392831681529116602082015260400190565b60405180910390a1506105c2565b80610571816119ed565b9150506103eb565b5060405162461bcd60e51b815260206004820152601860248201527f61646472657373206e6f7420696e2077686974656c69737400000000000000006044820152606401610308565b50565b606781815481106105d557600080fd5b6000918252602090912001546001600160a01b0316905081565b6105f7610963565b61060160006109bd565b565b6000805b60675481101561067357826001600160a01b03166067828154811061063c57634e487b7160e01b600052603260045260246000fd5b6000918252602090912001546001600160a01b03161415610661576001915050610679565b8061066b816119ed565b915050610607565b50600090505b919050565b60006106a360405180604001604052806002815260200161633160f01b815250610a0f565b60006106b185338686610a52565b95945050505050565b6106c2610963565b6001600160a01b03821661070c576040516001600160a01b0384169082156108fc029083906000818181858888f19350505050158015610706573d6000803e3d6000fd5b50610717565b610717828483610c06565b505050565b600054610100900460ff161580801561073c5750600054600160ff909116105b806107565750303b158015610756575060005460ff166001145b6107b95760405162461bcd60e51b815260206004820152602e60248201527f496e697469616c697a61626c653a20636f6e747261637420697320616c72656160448201526d191e481a5b9a5d1a585b1a5e995960921b6064820152608401610308565b6000805460ff1916600117905580156107dc576000805461ff0019166101001790555b6107e4610d13565b6065839055606682905560408051338152602081018590527fe0b40640e1ae86f6ec91fdad86540589c00399747c44f216e233a299c172e209910160405180910390a160408051338152602081018490527fd156ca316d26c3ef349214cf79162a57b8271f66b5f38910a27a76a768f06d83910160405180910390a18015610717576000805461ff0019169055604051600181527f7f26b83ff96e1f2b6a682f133852f6798a09c465da95921460cefb38474024989060200160405180910390a1505050565b6108b2610963565b606581905560408051338152602081018390527fe0b40640e1ae86f6ec91fdad86540589c00399747c44f216e233a299c172e2099101610392565b6108f5610963565b6001600160a01b03811661095a5760405162461bcd60e51b815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201526564647265737360d01b6064820152608401610308565b6105c2816109bd565b6033546001600160a01b031633146106015760405162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e65726044820152606401610308565b603380546001600160a01b038381166001600160a01b0319831681179093556040519116919082907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e090600090a35050565b6105c281604051602401610a2391906118bb565b60408051601f198184030181529190526020810180516001600160e01b031663104c13eb60e21b179052610d42565b6000610a5d33610603565b610aca57610a8460405180604001604052806002815260200161319960f11b815250610a0f565b606654341015610aca5760405162461bcd60e51b8152602060048201526011602482015270686173206e6f20656e6f7567682066656560781b6044820152606401610308565b8151835114610b315760405162461bcd60e51b815260206004820152602d60248201527f746865206163636f756e74732073697a6520616e6420616d6f756e747320736960448201526c7a65206e6f7420657175616c7360981b6064820152608401610308565b60655483511115610b8e5760405162461bcd60e51b815260206004820152602160248201527f61727261792073697a652065786365656420746865206172726179206c696d696044820152601d60fa1b6064820152608401610308565b610bb160405180604001604052806002815260200161633360f01b815250610a0f565b60006001600160a01b038616610bd457610bcd86868686610d63565b9050610be3565b610be086868686610f43565b90505b6106b160405180604001604052806002815260200161633560f01b815250610a0f565b604080516001600160a01b038481166024830152604480830185905283518084039091018152606490920183526020820180516001600160e01b031663a9059cbb60e01b1790529151600092839290871691610c62919061189f565b6000604051808303816000865af19150503d8060008114610c9f576040519150601f19603f3d011682016040523d82523d6000602084013e610ca4565b606091505b5091509150818015610cce575080511580610cce575080806020019051810190610cce919061182e565b610d0c5760405162461bcd60e51b815260206004820152600f60248201526e1514905394d1915497d19052531151608a1b6044820152606401610308565b5050505050565b600054610100900460ff16610d3a5760405162461bcd60e51b8152600401610308906118ee565b610601611305565b80516a636f6e736f6c652e6c6f67602083016000808483855afa5050505050565b60008080805b8551811015610e6857610dde868281518110610d9557634e487b7160e01b600052603260045260246000fd5b6020026020010151868381518110610dbd57634e487b7160e01b600052603260045260246000fd5b60200260200101518a6001600160a01b03166113359092919063ffffffff16565b610e18858281518110610e0157634e487b7160e01b600052603260045260246000fd5b60200260200101518461135d90919063ffffffff16565b9250610e54858281518110610e3d57634e487b7160e01b600052603260045260246000fd5b60200260200101518361135d90919063ffffffff16565b915080610e60816119ed565b915050610d69565b506000610e7433610603565b610e8057606654610e83565b60005b9050610e8f3482611370565b831115610ede5760405162461bcd60e51b815260206004820152601d60248201527f686173206e6f20656e6f7567682065746820746f207472616e736665720000006044820152606401610308565b8551604080516001600160a01b038b811682528a166020820152808201929092526060820184905260808201849052517f80b773cd8ea3bf97475bccfb129d2ad177499dd4b091fbf87669b370fffef58c9181900360a00190a1509695505050505050565b6000806000610f6b6040518060400160405280600281526020016118cd60f21b815250610a0f565b60005b85518110156112a0576000886001600160a01b03166370a08231888481518110610fa857634e487b7160e01b600052603260045260246000fd5b60200260200101516040518263ffffffff1660e01b8152600401610fdb91906001600160a01b0391909116815260200190565b60206040518083038186803b158015610ff357600080fd5b505afa158015611007573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061102b9190611866565b905061109b8888848151811061105157634e487b7160e01b600052603260045260246000fd5b602002602001015188858151811061107957634e487b7160e01b600052603260045260246000fd5b60200260200101518c6001600160a01b031661137c909392919063ffffffff16565b6000896001600160a01b03166370a082318985815181106110cc57634e487b7160e01b600052603260045260246000fd5b60200260200101516040518263ffffffff1660e01b81526004016110ff91906001600160a01b0391909116815260200190565b60206040518083038186803b15801561111757600080fd5b505afa15801561112b573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061114f9190611866565b905060006111776040518060400160405280600381526020016263343160e81b815250610a0f565b88848151811061119757634e487b7160e01b600052603260045260246000fd5b60200260200101516001600160a01b0316336001600160a01b0316146111d4576111c18284611370565b90506111cd858261135d565b945061122a565b60006111e08484611370565b9050611226816112208b888151811061120957634e487b7160e01b600052603260045260246000fd5b60200260200101518961135d90919063ffffffff16565b90611370565b9550505b61124e60405180604001604052806003815260200162319a1960e91b815250610a0f565b61128888858151811061127157634e487b7160e01b600052603260045260246000fd5b60200260200101518761135d90919063ffffffff16565b95505050508080611298906119ed565b915050610f6e565b508451604080516001600160a01b038a8116825289166020820152808201929092526060820184905260808201839052517f80b773cd8ea3bf97475bccfb129d2ad177499dd4b091fbf87669b370fffef58c9181900360a00190a19695505050505050565b600054610100900460ff1661132c5760405162461bcd60e51b8152600401610308906118ee565b610601336109bd565b6001600160a01b0383166113525761134d82826114ba565b610717565b610717838383611568565b6000611369828461198e565b9392505050565b600061136982846119a6565b604080516001600160a01b0385811660248301528481166044830152606480830185905283518084039091018152608490920183526020820180516001600160e01b03166323b872dd60e01b17905291516000928392908816916113e0919061189f565b6000604051808303816000865af19150503d806000811461141d576040519150601f19603f3d011682016040523d82523d6000602084013e611422565b606091505b509150915081801561144c57508051158061144c57508080602001905181019061144c919061182e565b6114b25760405162461bcd60e51b815260206004820152603160248201527f5472616e7366657248656c7065723a3a736166655472616e7366657246726f6d6044820152700e881d1c985b9cd9995c8819985a5b1959607a1b6064820152608401610308565b505050505050565b6000826001600160a01b03168260405160006040518083038185875af1925050503d8060008114611507576040519150601f19603f3d011682016040523d82523d6000602084013e61150c565b606091505b50509050806107175760405162461bcd60e51b815260206004820152602260248201527f5472616e7366657248656c7065723a2053656e64696e6720455448206661696c604482015261195960f21b6064820152608401610308565b604080516001600160a01b038481166024830152604480830185905283518084039091018152606490920183526020820180516001600160e01b031663a9059cbb60e01b17905291516000928392908716916115c4919061189f565b6000604051808303816000865af19150503d8060008114611601576040519150601f19603f3d011682016040523d82523d6000602084013e611606565b606091505b5091509150818015611630575080511580611630575080806020019051810190611630919061182e565b610d0c5760405162461bcd60e51b815260206004820152602d60248201527f5472616e7366657248656c7065723a3a736166655472616e736665723a20747260448201526c185b9cd9995c8819985a5b1959609a1b6064820152608401610308565b600082601f8301126116a2578081fd5b813560206116b76116b28361196a565b611939565b82815281810190858301838502870184018810156116d3578586fd5b855b858110156116f1578135845292840192908401906001016116d5565b5090979650505050505050565b60006020828403121561170f578081fd5b813561136981611a34565b60008060006060848603121561172e578182fd5b833561173981611a34565b9250602084013561174981611a34565b929592945050506040919091013590565b60008060006060848603121561176e578283fd5b833561177981611a34565b925060208481013567ffffffffffffffff80821115611796578485fd5b818701915087601f8301126117a9578485fd5b81356117b76116b28261196a565b81815284810190848601868402860187018c10156117d3578889fd5b8895505b838610156117fe5780356117ea81611a34565b8352600195909501949186019186016117d7565b50965050506040870135925080831115611816578384fd5b505061182486828701611692565b9150509250925092565b60006020828403121561183f578081fd5b81518015158114611369578182fd5b60006020828403121561185f578081fd5b5035919050565b600060208284031215611877578081fd5b5051919050565b60008060408385031215611890578182fd5b50508035926020909101359150565b600082516118b18184602087016119bd565b9190910192915050565b60006020825282518060208401526118da8160408501602087016119bd565b601f01601f19169190910160400192915050565b6020808252602b908201527f496e697469616c697a61626c653a20636f6e7472616374206973206e6f74206960408201526a6e697469616c697a696e6760a81b606082015260800190565b604051601f8201601f1916810167ffffffffffffffff8111828210171561196257611962611a1e565b604052919050565b600067ffffffffffffffff82111561198457611984611a1e565b5060209081020190565b600082198211156119a1576119a1611a08565b500190565b6000828210156119b8576119b8611a08565b500390565b60005b838110156119d85781810151838201526020016119c0565b838111156119e7576000848401525b50505050565b6000600019821415611a0157611a01611a08565b5060010190565b634e487b7160e01b600052601160045260246000fd5b634e487b7160e01b600052604160045260246000fd5b6001600160a01b03811681146105c257600080fdfea26469706673582212207a74c8da5ddd8b4421d46152d1bba751cfd51ec3a4dcc04e1ceba972f4cdb27e64736f6c63430008020033",Y1="0x6080604052600436106100e15760003560e01c806396bfc2291161007f578063d9caed1211610059578063d9caed1214610237578063e4a3011614610257578063ee8a0a3014610277578063f2fde38b14610297576100e8565b806396bfc229146101de5780639ec68f0f1461020e578063b4ae641c14610221576100e8565b80636ef25c3a116100bb5780636ef25c3a1461014a5780636f0f863a14610173578063715018a6146101ab5780638da5cb5b146101c0576100e8565b806324d9fa99146100ea578063468606981461010a5780636e1b9c8e1461012a576100e8565b366100e857005b005b3480156100f657600080fd5b506100e86101053660046116fe565b6102b7565b34801561011657600080fd5b506100e861012536600461184e565b61039d565b34801561013657600080fd5b506100e86101453660046116fe565b6103e0565b34801561015657600080fd5b5061016060665481565b6040519081526020015b60405180910390f35b34801561017f57600080fd5b5061019361018e36600461184e565b6105c5565b6040516001600160a01b03909116815260200161016a565b3480156101b757600080fd5b506100e86105ef565b3480156101cc57600080fd5b506033546001600160a01b0316610193565b3480156101ea57600080fd5b506101fe6101f93660046116fe565b610603565b604051901515815260200161016a565b61016061021c36600461175a565b61067e565b34801561022d57600080fd5b5061016060655481565b34801561024357600080fd5b506100e861025236600461171a565b6106ba565b34801561026357600080fd5b506100e861027236600461187e565b61071c565b34801561028357600080fd5b506100e861029236600461184e565b6108aa565b3480156102a357600080fd5b506100e86102b23660046116fe565b6108ed565b6102bf610963565b6102c881610603565b156103115760405162461bcd60e51b8152602060048201526014602482015273185b1c9958591e481a5b881dda1a5d195b1a5cdd60621b60448201526064015b60405180910390fd5b606780546001810182556000919091527f9787eeb91fe3101235e4a76063c7023ecb40f923f97916639c598592fa30d6ae0180546001600160a01b0319166001600160a01b0383169081179091556040805133815260208101929092527fdf439a5354034a9ebf2a97af303a3fe7fc5fc6c4a59b5fa8f75fcf7f81fc564491015b60405180910390a150565b6103a5610963565b606681905560408051338152602081018390527fd156ca316d26c3ef349214cf79162a57b8271f66b5f38910a27a76a768f06d839101610392565b6103e8610963565b60005b60675481101561057957816001600160a01b03166067828154811061042057634e487b7160e01b600052603260045260246000fd5b6000918252602090912001546001600160a01b03161415610567576067805461044b906001906119a6565b8154811061046957634e487b7160e01b600052603260045260246000fd5b600091825260209091200154606780546001600160a01b0390921691839081106104a357634e487b7160e01b600052603260045260246000fd5b9060005260206000200160006101000a8154816001600160a01b0302191690836001600160a01b0316021790555060678054806104f057634e487b7160e01b600052603160045260246000fd5b600082815260209020810160001990810180546001600160a01b03191690550190556040517f770bbbe6c5c3cb4131aa0eafa060578bf4f20f6de6d6fb8d7a1f854ebabd54c79061055990339085906001600160a01b0392831681529116602082015260400190565b60405180910390a1506105c2565b80610571816119ed565b9150506103eb565b5060405162461bcd60e51b815260206004820152601860248201527f61646472657373206e6f7420696e2077686974656c69737400000000000000006044820152606401610308565b50565b606781815481106105d557600080fd5b6000918252602090912001546001600160a01b0316905081565b6105f7610963565b61060160006109bd565b565b6000805b60675481101561067357826001600160a01b03166067828154811061063c57634e487b7160e01b600052603260045260246000fd5b6000918252602090912001546001600160a01b03161415610661576001915050610679565b8061066b816119ed565b915050610607565b50600090505b919050565b60006106a360405180604001604052806002815260200161633160f01b815250610a0f565b60006106b185338686610a52565b95945050505050565b6106c2610963565b6001600160a01b03821661070c576040516001600160a01b0384169082156108fc029083906000818181858888f19350505050158015610706573d6000803e3d6000fd5b50610717565b610717828483610c06565b505050565b600054610100900460ff161580801561073c5750600054600160ff909116105b806107565750303b158015610756575060005460ff166001145b6107b95760405162461bcd60e51b815260206004820152602e60248201527f496e697469616c697a61626c653a20636f6e747261637420697320616c72656160448201526d191e481a5b9a5d1a585b1a5e995960921b6064820152608401610308565b6000805460ff1916600117905580156107dc576000805461ff0019166101001790555b6107e4610d13565b6065839055606682905560408051338152602081018590527fe0b40640e1ae86f6ec91fdad86540589c00399747c44f216e233a299c172e209910160405180910390a160408051338152602081018490527fd156ca316d26c3ef349214cf79162a57b8271f66b5f38910a27a76a768f06d83910160405180910390a18015610717576000805461ff0019169055604051600181527f7f26b83ff96e1f2b6a682f133852f6798a09c465da95921460cefb38474024989060200160405180910390a1505050565b6108b2610963565b606581905560408051338152602081018390527fe0b40640e1ae86f6ec91fdad86540589c00399747c44f216e233a299c172e2099101610392565b6108f5610963565b6001600160a01b03811661095a5760405162461bcd60e51b815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201526564647265737360d01b6064820152608401610308565b6105c2816109bd565b6033546001600160a01b031633146106015760405162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e65726044820152606401610308565b603380546001600160a01b038381166001600160a01b0319831681179093556040519116919082907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e090600090a35050565b6105c281604051602401610a2391906118bb565b60408051601f198184030181529190526020810180516001600160e01b031663104c13eb60e21b179052610d42565b6000610a5d33610603565b610aca57610a8460405180604001604052806002815260200161319960f11b815250610a0f565b606654341015610aca5760405162461bcd60e51b8152602060048201526011602482015270686173206e6f20656e6f7567682066656560781b6044820152606401610308565b8151835114610b315760405162461bcd60e51b815260206004820152602d60248201527f746865206163636f756e74732073697a6520616e6420616d6f756e747320736960448201526c7a65206e6f7420657175616c7360981b6064820152608401610308565b60655483511115610b8e5760405162461bcd60e51b815260206004820152602160248201527f61727261792073697a652065786365656420746865206172726179206c696d696044820152601d60fa1b6064820152608401610308565b610bb160405180604001604052806002815260200161633360f01b815250610a0f565b60006001600160a01b038616610bd457610bcd86868686610d63565b9050610be3565b610be086868686610f43565b90505b6106b160405180604001604052806002815260200161633560f01b815250610a0f565b604080516001600160a01b038481166024830152604480830185905283518084039091018152606490920183526020820180516001600160e01b031663a9059cbb60e01b1790529151600092839290871691610c62919061189f565b6000604051808303816000865af19150503d8060008114610c9f576040519150601f19603f3d011682016040523d82523d6000602084013e610ca4565b606091505b5091509150818015610cce575080511580610cce575080806020019051810190610cce919061182e565b610d0c5760405162461bcd60e51b815260206004820152600f60248201526e1514905394d1915497d19052531151608a1b6044820152606401610308565b5050505050565b600054610100900460ff16610d3a5760405162461bcd60e51b8152600401610308906118ee565b610601611305565b80516a636f6e736f6c652e6c6f67602083016000808483855afa5050505050565b60008080805b8551811015610e6857610dde868281518110610d9557634e487b7160e01b600052603260045260246000fd5b6020026020010151868381518110610dbd57634e487b7160e01b600052603260045260246000fd5b60200260200101518a6001600160a01b03166113359092919063ffffffff16565b610e18858281518110610e0157634e487b7160e01b600052603260045260246000fd5b60200260200101518461135d90919063ffffffff16565b9250610e54858281518110610e3d57634e487b7160e01b600052603260045260246000fd5b60200260200101518361135d90919063ffffffff16565b915080610e60816119ed565b915050610d69565b506000610e7433610603565b610e8057606654610e83565b60005b9050610e8f3482611370565b831115610ede5760405162461bcd60e51b815260206004820152601d60248201527f686173206e6f20656e6f7567682065746820746f207472616e736665720000006044820152606401610308565b8551604080516001600160a01b038b811682528a166020820152808201929092526060820184905260808201849052517f80b773cd8ea3bf97475bccfb129d2ad177499dd4b091fbf87669b370fffef58c9181900360a00190a1509695505050505050565b6000806000610f6b6040518060400160405280600281526020016118cd60f21b815250610a0f565b60005b85518110156112a0576000886001600160a01b03166370a08231888481518110610fa857634e487b7160e01b600052603260045260246000fd5b60200260200101516040518263ffffffff1660e01b8152600401610fdb91906001600160a01b0391909116815260200190565b60206040518083038186803b158015610ff357600080fd5b505afa158015611007573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061102b9190611866565b905061109b8888848151811061105157634e487b7160e01b600052603260045260246000fd5b602002602001015188858151811061107957634e487b7160e01b600052603260045260246000fd5b60200260200101518c6001600160a01b031661137c909392919063ffffffff16565b6000896001600160a01b03166370a082318985815181106110cc57634e487b7160e01b600052603260045260246000fd5b60200260200101516040518263ffffffff1660e01b81526004016110ff91906001600160a01b0391909116815260200190565b60206040518083038186803b15801561111757600080fd5b505afa15801561112b573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061114f9190611866565b905060006111776040518060400160405280600381526020016263343160e81b815250610a0f565b88848151811061119757634e487b7160e01b600052603260045260246000fd5b60200260200101516001600160a01b0316336001600160a01b0316146111d4576111c18284611370565b90506111cd858261135d565b945061122a565b60006111e08484611370565b9050611226816112208b888151811061120957634e487b7160e01b600052603260045260246000fd5b60200260200101518961135d90919063ffffffff16565b90611370565b9550505b61124e60405180604001604052806003815260200162319a1960e91b815250610a0f565b61128888858151811061127157634e487b7160e01b600052603260045260246000fd5b60200260200101518761135d90919063ffffffff16565b95505050508080611298906119ed565b915050610f6e565b508451604080516001600160a01b038a8116825289166020820152808201929092526060820184905260808201839052517f80b773cd8ea3bf97475bccfb129d2ad177499dd4b091fbf87669b370fffef58c9181900360a00190a19695505050505050565b600054610100900460ff1661132c5760405162461bcd60e51b8152600401610308906118ee565b610601336109bd565b6001600160a01b0383166113525761134d82826114ba565b610717565b610717838383611568565b6000611369828461198e565b9392505050565b600061136982846119a6565b604080516001600160a01b0385811660248301528481166044830152606480830185905283518084039091018152608490920183526020820180516001600160e01b03166323b872dd60e01b17905291516000928392908816916113e0919061189f565b6000604051808303816000865af19150503d806000811461141d576040519150601f19603f3d011682016040523d82523d6000602084013e611422565b606091505b509150915081801561144c57508051158061144c57508080602001905181019061144c919061182e565b6114b25760405162461bcd60e51b815260206004820152603160248201527f5472616e7366657248656c7065723a3a736166655472616e7366657246726f6d6044820152700e881d1c985b9cd9995c8819985a5b1959607a1b6064820152608401610308565b505050505050565b6000826001600160a01b03168260405160006040518083038185875af1925050503d8060008114611507576040519150601f19603f3d011682016040523d82523d6000602084013e61150c565b606091505b50509050806107175760405162461bcd60e51b815260206004820152602260248201527f5472616e7366657248656c7065723a2053656e64696e6720455448206661696c604482015261195960f21b6064820152608401610308565b604080516001600160a01b038481166024830152604480830185905283518084039091018152606490920183526020820180516001600160e01b031663a9059cbb60e01b17905291516000928392908716916115c4919061189f565b6000604051808303816000865af19150503d8060008114611601576040519150601f19603f3d011682016040523d82523d6000602084013e611606565b606091505b5091509150818015611630575080511580611630575080806020019051810190611630919061182e565b610d0c5760405162461bcd60e51b815260206004820152602d60248201527f5472616e7366657248656c7065723a3a736166655472616e736665723a20747260448201526c185b9cd9995c8819985a5b1959609a1b6064820152608401610308565b600082601f8301126116a2578081fd5b813560206116b76116b28361196a565b611939565b82815281810190858301838502870184018810156116d3578586fd5b855b858110156116f1578135845292840192908401906001016116d5565b5090979650505050505050565b60006020828403121561170f578081fd5b813561136981611a34565b60008060006060848603121561172e578182fd5b833561173981611a34565b9250602084013561174981611a34565b929592945050506040919091013590565b60008060006060848603121561176e578283fd5b833561177981611a34565b925060208481013567ffffffffffffffff80821115611796578485fd5b818701915087601f8301126117a9578485fd5b81356117b76116b28261196a565b81815284810190848601868402860187018c10156117d3578889fd5b8895505b838610156117fe5780356117ea81611a34565b8352600195909501949186019186016117d7565b50965050506040870135925080831115611816578384fd5b505061182486828701611692565b9150509250925092565b60006020828403121561183f578081fd5b81518015158114611369578182fd5b60006020828403121561185f578081fd5b5035919050565b600060208284031215611877578081fd5b5051919050565b60008060408385031215611890578182fd5b50508035926020909101359150565b600082516118b18184602087016119bd565b9190910192915050565b60006020825282518060208401526118da8160408501602087016119bd565b601f01601f19169190910160400192915050565b6020808252602b908201527f496e697469616c697a61626c653a20636f6e7472616374206973206e6f74206960408201526a6e697469616c697a696e6760a81b606082015260800190565b604051601f8201601f1916810167ffffffffffffffff8111828210171561196257611962611a1e565b604052919050565b600067ffffffffffffffff82111561198457611984611a1e565b5060209081020190565b600082198211156119a1576119a1611a08565b500190565b6000828210156119b8576119b8611a08565b500390565b60005b838110156119d85781810151838201526020016119c0565b838111156119e7576000848401525b50505050565b6000600019821415611a0157611a01611a08565b5060010190565b634e487b7160e01b600052601160045260246000fd5b634e487b7160e01b600052604160045260246000fd5b6001600160a01b03811681146105c257600080fdfea26469706673582212207a74c8da5ddd8b4421d46152d1bba751cfd51ec3a4dcc04e1ceba972f4cdb27e64736f6c63430008020033",Z1={},e6={},t6={_format:j1,contractName:q1,sourceName:J1,abi:K1,bytecode:X1,deployedBytecode:Y1,linkReferences:Z1,deployedLinkReferences:e6};const a6={class:"left"},n6={key:0,class:"address"},s6={class:"address-text"},l6={key:1,class:"address"},o6={style:{"margin-left":"4px"}},d6={class:"dapp-list"},i6=["onClick"],b6={class:"name"},f6={key:0,class:"tips"},c6={__name:"Menu",props:{dappList:{type:Array,default:[]}},setup(f){const F=f,{t:e}=u0(),i=c0(),g=p(!1);function A(R){if(!R){Q0(e("menuComingSoon"));return}window.open(R)}return(R,r)=>{const S=w("van-popup");return o(),u(E,null,[n("div",{onClick:r[0]||(r[0]=k=>g.value=!0)},[b(_,{class:"icon",name:"menu"})]),b(S,{show:g.value,"onUpdate:show":r[1]||(r[1]=k=>g.value=k),position:"left",style:{width:"48%",height:"100%"},class:"menu"},{default:v(()=>[n("div",a6,[b(_,{class:"icon",name:"menu"}),l(i).isConnectWallet?(o(),u("div",n6,[b(_,{class:"chain-icon",name:"wallet"}),n("div",s6,s(l(r0)(l(i).walletAddress)),1)])):(o(),u("div",l6,[b(_,{name:"wallet"}),n("div",o6,s(l(e)("menuNoConnet")),1)]))]),n("ul",d6,[(o(!0),u(E,null,w0(F.dappList,k=>(o(),u("li",{class:z0(["dapp-list-item",k.selected?"dapp-list-item-selected":""]),onClick:G=>A(k.url)},[b(_,{class:"svg-icon",name:k.iconGrey},null,8,["name"]),n("div",b6,s(l(e)(k.name)),1),k.url?D("",!0):(o(),u("div",f6,s(l(e)("menuComingSoon")),1))],10,i6))),256))])]),_:1},8,["show"])],64)}}},u6=e0(c6,[["__scopeId","data-v-840e18ac"]]),$0=[{name:"menuCreateToken",iconBlue:"createTokenBlue",iconGrey:"createTokenGrey",url:"https://avetokencreate.github.io/"},{name:"menuPresell",iconBlue:"presaleBlue",iconGrey:"presaleGrey",url:""},{name:"menuLiquidity",iconBlue:"liquidityBlue",iconGrey:"liquidityGrey",url:"https://m.jfliquidity.xyz/add?utm_source=ave.ai"},{name:"menuLock",iconBlue:"lockBlue",iconGrey:"lockGrey",url:"https://avetokenlock.github.io/"},{name:"menuMultitransfer",iconBlue:"multitransferBlue",iconGrey:"multitransferGrey",url:"https://avemultitransfer.github.io/"},{name:"menuRedPacket",iconBlue:"redPacketBlue",iconGrey:"redPacketGrey",url:"https://aeredpacket.github.io/"},{name:"menuApprove",iconBlue:"approveBlue",iconGrey:"approveGrey",url:"https://aveapprovecheck.github.io/"}];const r6={class:"body"},m6={class:"tools-bar"},p6={class:"left"},v6={class:"address-text"},y6={style:{"margin-left":"4px"}},h6={class:"tools"},g6={class:"token-title"},_6={class:"token-box"},k6={class:"token-amount"},$6={class:"form-item address-ipt"},w6={class:"title"},T6={class:"index"},C6={class:"content"},S6=["onClick"],A6={class:"form-item create"},R6={class:"field"},L6={class:"content"},B6={class:"content"},I6={class:"transfer-icon"},F6={class:"title"},x6={class:"transfer-icon"},N6={class:"title"},E6={class:"text"},M6={class:"btn"},V6={class:"content"},D6={class:"title"},W6={class:"content"},G6={__name:"Index",setup(f){const F=j0(),e=c0(),{t:i}=u0(),g=q0("global"),A=p(!1),R=p(!1),r=p(!1),S=p(!1),k=p(!1),G=p(!1),W=p(""),m0=Q(()=>[{name:i("languages.zh-cn"),value:"zh-cn",color:e.language==="zh-cn"?"#9505F9":"#323233"},{name:i("languages.en"),value:"en",color:e.language==="en"?"#9505F9":"#323233"}]);function C0(t){e.setLanguage(t.value)}const x=p(!1),O=p(0),P=p(""),j=p("");async function p0(){await e.connectWallet(),await t0()}function v0(t){const a=g.cfg.allowChainList.find(y=>y.chainId==t);let c;return a?c=a.chain:c=null,c}function y0(){return g.cfg.allowChainList.map(a=>a.chainId).includes(e.chainId)?!0:(G.value=!0,!1)}async function S0(){x.value=!1,P.value="",O.value=1,x.value=!0;try{let t=await I.wallet.approveMaxAmount(e.token.address,e.multiSenderContractAddress);console.log(t),P.value=t.hash,await t.wait(),U.value=!1,O.value=0}catch(t){console.log(t),O.value=-1,await _0(2e3)}finally{x.value=!1}}async function t0(){if(e.token==null)return;if(e.token.address==I.wallet.MAIN_COIN_ADDRESS){U.value=!1;return}const t=await I.wallet.isAllowanceEnough(e.multiSenderContractAddress,e.token.address,e.walletAddress);console.log("checkAllowance: "+t),t?U.value=!1:U.value=!0}function A0(){F.push("/selectToken")}const a0=p(!1),h0=p(null);function R0(){a0.value=!0,K0(()=>{h0.value.focus()})}const T=p(null);function L0(t){console.log("addressTextInput"),console.log(t);const a=/^0x[0-9a-fA-F]{40}(,\d*\.?\d+)?$/;let c=!1,y=t.replace(/\s+/gi," ").trim();if(y){let m=y.split(" ");if(m.length>500){C.fail(i("supportMax"));return}y.indexOf(",")>-1&&(c=!0);for(let h=0;h<m.length;h++){if(!a.test(m[h])){C.fail(i("pleaseEnterRightFormat"));return}c==!0&&m[h].indexOf(",")==-1&&(m[h]=m[h]+",0")}e.addressList=m,e.addressText=m.join(" ")}else e.addressList=[],e.addressText="";e.isCustomRule=c}const X=p(!1),n0=p(0),Y=p("");function B0(t,a){const[c,y]=t.split(",");n0.value=a,X.value=!0,Y.value=y}function I0(){const[t,a]=e.addressList[n0.value].split(",");e.addressList[n0.value]=`${t},${Y.value}`,e.addressText=e.addressList.join(" "),X.value=!1}const s0=Q(()=>e.isCustomRule?i("customRule"):e.currentSentRule.value==0?i("eachAddressEqual"):e.currentSentRule.value==1?i("dividedEquallyByTotal"):""),F0=Q(()=>[{name:i("eachAddressEqual"),value:0,color:e.currentSentRule.value===0?"#3F80F7":"#323233"},{name:i("dividedEquallyByTotal"),value:1,color:e.currentSentRule.value===1?"#3F80F7":"#323233"}]);function l0(t){return console.log(t),t&&t.replace("-","").replace(/^(.*\..{6}).*$/,"$1")}const o0=p(!1);function x0(){e.isCustomRule||(o0.value=!0)}function N0(t){e.currentSentRule.value=t.value,e.currentSentRule.name=t.name}function E0(){e.addressList=[],e.addressText="",e.isCustomRule=!1}const U=p(!1),d0=p(!1),M=Q(()=>{let t=z(0);for(let a of Z.value)t=t.plus(a.amount);return t.toNumber()});async function M0(){d0.value=!0;try{if(!e.token){C.fail(i("pleaseSelectToken"));return}if(e.addressList.length==0){C.fail(i("pleaseEnterReceivingAddress"));return}if(!e.isCustomRule){if(e.currentSentRule.value==0){if(!e.sentSingleAmountString){C.fail(i("pleaseEnterSingleQuantity"));return}}else if(e.currentSentRule.value==1&&!e.sentTotalAmountString){C.fail(i("pleaseEnterTotalQuantity"));return}}if(await e.connectWallet(),!y0())return;let a=g.cfg.allowChainList.find(c=>c.chain==e.token.chain);if(!a){C.fail(i("tokenChainNotSupport"));return}if(e.chainId!=a.chainId){C.fail(i("switchTokenChain"));return}if(z(M.value).gt(z(W.value))){C.fail(i("balanceSlow"));return}if(await t0(),U.value){C.fail(i("approveFirst"));return}await V0(),r.value=!0}catch(t){console.dir(t)}finally{d0.value=!1}}async function V0(){const t=I.wallet.getEthersProvider(),a=I.wallet.contractByProvider(t,e.multiSenderContractAddress,t6),c=Z.value.map(V=>V.address),y=Z.value.map(V=>b0(V.amount.toString(),e.token.decimals).toString()),m=await a.baseFee();console.log("baseFee"),console.log(m),console.log(m.toString()),console.log(K(m)),e.token.chain=="bsc"&&await a.isInWhiteList(e.walletAddress)&&(m=z(0));let h=m;e.token.address==I.wallet.MAIN_COIN_ADDRESS&&(h=m.add(b0(M.value.toString(),e.token.decimals)));const H=await t.getGasPrice();let B;try{B=(await a.estimateGas.multiSend(e.token.address,c,y,{value:h.toString()})).mul(2)}catch(V){throw V.data.code==-32e3&&C.fail(i("balanceSlow")),console.dir(V),V}console.log("gasLimit"),console.dir(B),console.log(K(B.mul(H))),console.log(e.token.address),console.log(c),console.log(y),console.dir(a);const N=await a.callStatic.multiSend(e.token.address,c,y,{value:h.toString()});console.dir(N),console.log(f0(N,e.token.decimals));const d=f0(N,e.token.decimals);let q=0;d<M&&(q=Number(z(M.value).minus(d).div(M.value).toFixed(4)));let J=0;e.isCustomRule?J=0:e.currentSentRule.value==0?J=e.sentSingleAmountString?Number(e.sentSingleAmountString):0:e.currentSentRule.value==1&&(J=e.sentTotalAmountString?Number(e.sentTotalAmountString):0),T.value={msContract:a,receiptTotalAmount:d,sentAddressList:c,sentAmountList:y,sentListQty:Z.value.length,baseFee:m,transferValue:h,gasLimit:B,sentRate:q,gas:K(B.mul(H)),serviceFee:K(m),token:{symbol:e.token.symbol,address:e.token.address,amount:e.token.amount,icon:e.token.icon,decimals:e.token.decimals,chain:e.token.chain},isCustomRule:e.isCustomRule,sentRuleType:e.currentSentRule.value,sentAmount:J,realSentTotalAmount:M.value,walletAddress:e.walletAddress}}async function D0(){console.log("multiTransferConfirm"),O.value=1,x.value=!0;try{const t=await T.value.msContract.multiSend(T.value.token.address,T.value.sentAddressList,T.value.sentAmountList,{value:T.value.transferValue.toString(),gasLimit:T.value.gasLimit.toString()});console.dir(t),P.value=t.hash;const a=await t.wait();console.dir(a);const c=a.transactionHash;if(P.value=c,console.log("txHash: "+c),a.status!=1){await I.multiSend.sendMultiSendFailTx(T.value.token.chain,c),x.value=!1,j.value="",k.value=!1,S.value=!0;return}else{x.value=!1,j.value="",k.value=!0,S.value=!0;let y={receiverCount:0,sendAmount:b0(M.value.toString(),e.token.decimals).toString(),sendTime:n1().unix(),sender:T.value.walletAddress,status:-1,tokenAddress:T.value.token.address,tokenDecimal:T.value.token.decimals,tokenSymbol:T.value.token.symbol,txHash:c};console.dir(y),e.transferringList.push(y)}}catch(t){console.dir(t),t.code=="ACTION_REJECTED"&&(j.value=i("actionRejected"),O.value=-1,await _0(1e3)),x.value=!1,j.value="",k.value=!1,S.value=!0;return}finally{r.value=!1}}const Z=Q(()=>{if(e.addressList.length>0){if(e.isCustomRule)return e.addressList.map(t=>{const[a,c]=t.split(",");return{address:a,amount:Number(c)}});if(e.currentSentRule.value==0){const t=e.sentSingleAmountString?Number(e.sentSingleAmountString):0;return e.addressList.map(a=>({address:a,amount:t}))}else if(e.currentSentRule.value==1){const t=e.sentTotalAmountString?Number(e.sentTotalAmountString):0,a=z(t).div(e.addressList.length).dp(2).toNumber();return e.addressList.map(c=>({address:c,amount:a}))}}return[]}),g0=g.cfg.allowChainList.map(t=>t.chain.toUpperCase()),i0=p(!1);function W0(){X0.confirm({title:i("tips"),message:i("disonnectWallet"),confirmButtonText:i("confirm"),cancelButtonText:i("cancel")}).then(()=>{e.disconnectWallet()}).catch(()=>{})}function G0(t){let a=g.cfg.allowChainList.find(c=>c.chainId==e.chainId);a?window.open(a.txNetwork+t,"_blank"):C(i("unsupportedNetwork"))}function O0(t){console.log("onPasteCapture"),t.target.value=t.target.value+t.clipboardData.getData("text"),t.target.blur()}function P0(t){console.log("onBlurCapture"),console.log(t.target.value),L0(t.target.value),a0.value=!1}async function U0(){if(!e.token)return;const t=C.loading({message:"Loading...",forbidClick:!0,duration:0});try{const a=I.wallet.getEthersProvider();if(e.token.address==I.wallet.MAIN_COIN_ADDRESS){const c=await a.getBalance(e.walletAddress);W.value=K(c)}else{const c=I.wallet.contractByProvider(a,e.token.address,Y0),y=await c.decimals(),m=await c.balanceOf(e.walletAddress);W.value=f0(m,y)}}catch(a){console.log(a),e.token=null}finally{t.close()}}$0.forEach(t=>t.selected=t.name=="menuMultitransfer");const H0=p($0);return J0(()=>{console.log("index onMounted"),e.chainId>0&&y0()&&e.token&&(t0(),U0())}),(t,a)=>{const c=w("van-image"),y=w("van-cell"),m=w("van-cell-group"),h=w("van-field"),H=w("van-action-sheet"),B=w("van-button"),N=w("van-dialog");return o(),u(E,null,[n("div",r6,[n("div",m6,[n("div",p6,[b(u6,{"dapp-list":H0.value},null,8,["dapp-list"]),l(e).isConnectWallet?(o(),u("div",{key:0,class:"address",onClick:W0},[v0(l(e).chainId)?(o(),$(c,{key:0,class:"chain-icon",round:"",src:l(k0)(v0(l(e).chainId))},null,8,["src"])):(o(),$(_,{key:1,class:"chain-icon",name:"wallet"})),n("div",v6,s(l(r0)(l(e).walletAddress)),1)])):(o(),u("div",{key:1,class:"address",onClick:p0},[b(_,{name:"wallet"}),n("div",y6,s(t.$t("pleaseConnectWallet")),1)]))]),n("div",h6,[b(_,{name:"language",onClick:a[0]||(a[0]=d=>R.value=!0)}),b(_,{name:"help",onClick:a[1]||(a[1]=d=>A.value=!0)})])]),b(m,{inset:"",class:"form-item"},{default:v(()=>[n("div",g6,s(t.$t("token")),1),b(y,{"is-link":"",onClick:A0,class:"token-cell"},Z0({value:v(()=>[n("div",k6,s(W.value?W.value:"--"),1)]),_:2},[l(e).token?{name:"title",fn:v(()=>[n("div",_6,[b(T0,{class:"token-icon",tokenIcon:l(e).token.icon,chainIcon:l(k0)(l(e).token.chain)},null,8,["tokenIcon","chainIcon"]),L(" "+s(l(e).token.symbol),1)])]),key:"0"}:{name:"title",fn:v(()=>[n("div",{class:"token-box",style:{color:"#999999"}},s(t.$t("pleaseSelectToken")),1)]),key:"1"}]),1024)]),_:1}),n("div",$6,[n("div",w6,[n("div",null,[L(s(t.$t("receivingAddress"))+" ",1),b(_,{name:"info",onClick:a[2]||(a[2]=d=>i0.value=!0)})]),n("div",{onClick:E0},[b(_,{name:"clear"}),L(" "+s(t.$t("clear")),1)])]),a0.value?(o(),$(h,{key:0,class:"ipt","model-value":l(e).addressText,onPasteCapture:O0,type:"textarea",onBlurCapture:P0,ref_key:"ipt",ref:h0},null,8,["model-value"])):(o(),u("ul",{key:1,class:"table",onClick:R0},[(o(!0),u(E,null,w0(l(e).addressList,(d,q)=>(o(),u("li",null,[n("div",T6,s(q+1),1),n("div",C6,s(d),1),l(e).isCustomRule?(o(),u("div",{key:0,class:"edit",onClick:e1(J=>B0(d,q),["stop"])},[b(_,{name:"edit"})],8,S6)):D("",!0)]))),256))]))]),l(e).addressList.length>0?(o(),u(E,{key:0},[b(m,{inset:"",class:"form-item"},{default:v(()=>[b(h,{modelValue:l(s0),"onUpdate:modelValue":a[3]||(a[3]=d=>t1(s0)?s0.value=d:null),disabled:l(e).isCustomRule,"is-link":"",readonly:"",name:"picker",label:t.$t("distributionRules"),onClick:x0,"input-align":"right"},null,8,["modelValue","disabled","label"]),b(H,{show:o0.value,"onUpdate:show":a[4]||(a[4]=d=>o0.value=d),title:t.$t("distributionRules"),actions:l(F0),"close-on-click-action":"",onSelect:N0},null,8,["show","title","actions"])]),_:1}),b(m,{inset:"",class:"form-item"},{default:v(()=>[l(e).isCustomRule?(o(),$(h,{key:0,label:t.$t("totalQuantity"),"input-align":"right",readonly:"","model-value":l(M)},null,8,["label","model-value"])):l(e).currentSentRule.value==0?(o(),$(h,{key:1,label:t.$t("amountEach"),"input-align":"right",formatter:l0,placeholder:t.$t("pleaseEnterSingleQuantity"),type:"number",modelValue:l(e).sentSingleAmountString,"onUpdate:modelValue":a[5]||(a[5]=d=>l(e).sentSingleAmountString=d)},null,8,["label","placeholder","modelValue"])):(o(),$(h,{key:2,label:t.$t("totalQuantity"),"input-align":"right",formatter:l0,placeholder:t.$t("pleaseEnterTotalQuantity"),type:"number",modelValue:l(e).sentTotalAmountString,"onUpdate:modelValue":a[6]||(a[6]=d=>l(e).sentTotalAmountString=d)},null,8,["label","placeholder","modelValue"]))]),_:1})],64)):D("",!0),n("div",A6,[l(e).isConnectWallet?(o(),u(E,{key:0},[U.value?(o(),$(B,{key:0,class:"create-btn",type:"danger",onClick:S0},{default:v(()=>[L(s(t.$t("approve")),1)]),_:1})):(o(),$(B,{key:1,class:"create-btn",type:"primary",onClick:M0,loading:d0.value},{default:v(()=>[L(s(t.$t("oneClickTransfer")),1)]),_:1},8,["loading"]))],64)):(o(),$(B,{key:1,class:"create-btn",type:"primary",onClick:p0},{default:v(()=>[L(s(t.$t("connectWallet")),1)]),_:1}))]),n("div",{class:"form-item history",onClick:a[7]||(a[7]=d=>l(F).push("/history"))},s(t.$t("transferHistory")),1)]),b(H,{show:R.value,"onUpdate:show":a[8]||(a[8]=d=>R.value=d),title:t.$t("switchLang"),actions:l(m0),closeable:!1,"cancel-text":t.$t("cancel"),"close-on-click-action":"",onSelect:C0},null,8,["show","title","actions","cancel-text"]),b(N,{class:"editAmountDialog",show:X.value,"onUpdate:show":a[10]||(a[10]=d=>X.value=d),title:t.$t("editQuantity"),"show-cancel-button":"",onConfirm:I0},{default:v(()=>[n("div",R6,[b(h,{modelValue:Y.value,"onUpdate:modelValue":a[9]||(a[9]=d=>Y.value=d),type:"number",formatter:l0,clearable:""},null,8,["modelValue"])])]),_:1},8,["show","title"]),b(N1,{visable:r.value,"onUpdate:visable":a[11]||(a[11]=d=>r.value=d),detail:T.value,onConfirm:D0},null,8,["visable","detail"]),b(N,{class:"help-dialog",show:A.value,"onUpdate:show":a[12]||(a[12]=d=>A.value=d),title:t.$t("ruleDescription"),"confirm-button-text":t.$t("understand"),"close-on-click-overlay":""},{default:v(()=>[n("div",L6,[n("div",null,s(t.$t("rulesDescription1")),1),n("div",null,s(t.$t("rulesDescription2")),1),n("div",null,s(t.$t("rulesDescription3")),1),n("div",null,s(t.$t("rulesDescription4",{chains:l(g0).join("/")})),1)])]),_:1},8,["show","title","confirm-button-text"]),b(N,{class:"create-transfer-dialog",show:S.value,"onUpdate:show":a[15]||(a[15]=d=>S.value=d),onClose:a[16]||(a[16]=d=>S.value=!1),"close-on-click-overlay":""},{footer:v(()=>[n("div",M6,[b(B,{class:"copy-btn",type:"primary",onClick:a[14]||(a[14]=d=>S.value=!1)},{default:v(()=>[L(s(t.$t("understand")),1)]),_:1})])]),default:v(()=>[n("div",B6,[k.value?(o(),u(E,{key:0},[n("div",I6,[b(_,{name:"createSuccess"})]),n("div",F6,s(t.$t("transferResultSuccess1")),1),n("div",{class:"text",onClick:a[13]||(a[13]=d=>G0(P.value))},s(t.$t("transferResultSuccess2")),1)],64)):(o(),u(E,{key:1},[n("div",x6,[b(_,{name:"infoFail"})]),n("div",N6,s(t.$t("transferResultFail1")),1),n("div",E6,s(t.$t("transferResultFail2")),1)],64))])]),_:1},8,["show"]),b(N,{class:"chain-err-dialog",confirmButtonText:t.$t("understand"),confirmButtonColor:"#3F80F7",show:G.value,"onUpdate:show":a[17]||(a[17]=d=>G.value=d)},{default:v(()=>[n("div",V6,[n("div",null,s(t.$t("notSupportedChain")),1),n("div",null,s(t.$t("pleaseSwitchTo",{chains:l(g0).join("\u3001")})),1)])]),_:1},8,["confirmButtonText","show"]),b(N,{class:"copy-address-dialog",confirmButtonText:t.$t("understand"),confirmButtonColor:"#3F80F7",show:i0.value,"onUpdate:show":a[18]||(a[18]=d=>i0.value=d)},{default:v(()=>[n("div",D6,s(t.$t("copyAddress")),1),n("div",W6,[n("div",null,s(t.$t("copyAddressTips")),1)])]),_:1},8,["confirmButtonText","show"]),b(Q1,{tradeVisable:x.value,"onUpdate:tradeVisable":a[19]||(a[19]=d=>x.value=d),status:O.value,tradeHash:P.value,message:j.value},null,8,["tradeVisable","status","tradeHash","message"])],64)}}},H6=e0(G6,[["__scopeId","data-v-367e5742"]]);export{H6 as default};
